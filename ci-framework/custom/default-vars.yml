---
_oso_release: "{{ cifmw_oso_release | default('osp18') }}"
_ceph_version: "{{ cifmw_ceph_release | default('ceph-7.1-rhel-9') }}"
_rhel_version: "{{ cifmw_rhel_version | default('9.4') }}"
_rhoso_version: "{{ cifmw_rhoso_release | default('') }}"
_default_rhos_release_args: "{{ _ceph_version }} {{ _rhoso_version }} -r {{ _rhel_version }}"

cifmw_devscripts_config_overrides_patch_custom_openshift_version:
  openshift_version: 4.18.3

# general variables
cifmw_basedir: "{{ ansible_user_dir }}/ci-framework-data"
cifmw_path: "{{ ansible_user_dir }}/bin:{{ ansible_env.PATH }}"

# repo-setup related vars
cifmw_repo_setup_branch: "{{ _oso_release }}"
cifmw_repo_setup_dlrn_uri: "https://osp-trunk.hosted.upshift.rdu2.redhat.com/"
cifmw_repo_setup_os_release: "rhel"
cifmw_repo_setup_enable_rhos_release: true
cifmw_repo_setup_rhos_release_rpm: "http://download.devel.redhat.com/rcm-guest/puddles/OpenStack/rhos-release/rhos-release-latest.noarch.rpm"
cifmw_repo_setup_rhos_release_args: "{{ _default_rhos_release_args }}"
cifmw_repo_setup_dist_major_version: "{{ ansible_distribution_major_version }}"
cifmw_repo_setup_env:
  CURL_CA_BUNDLE: "/etc/pki/ca-trust/extracted/openssl/ca-bundle.trust.crt"
# use http here to avoid issues when host has FIPS enabled
cifmw_discover_latest_image_base_url: "http://download.devel.redhat.com/rhel-9/rel-eng/RHEL-9/latest-RHEL-{{ _rhel_version }}.0/compose/BaseOS/x86_64/images/"
cifmw_discover_latest_image_qcow_prefix: "rhel-guest-image-{{ _rhel_version }}-"
cifmw_discover_latest_image_images_file: "SHA256SUM"

# ci-setup
cifmw_ci_setup_yum_repos:
  - name: crb
    baseurl: "http://download.devel.redhat.com/rhel-9/rel-eng/RHEL-9/latest-RHEL-9.4.0/compose/CRB/x86_64/os/"
    description: Code ready builder

# manage-secrets
cifmw_manage_secrets_citoken_file: "/home/zuul/secrets/ci_token"
cifmw_manage_secrets_pullsecret_file: "/home/zuul/secrets/pull_secret.json"

# Reproducer settings
cifmw_reproducer_skip_fetch_repositories: true
cifmw_reproducer_hp_rhos_release: true
cifmw_reproducer_compute_repos:
  - name: osptrunk-candidate-deps
    baseurl: 'http://download.devel.redhat.com/brewroot/repos/rhoso-18.0-rhel-9-trunk-candidate/latest/x86_64/'
    description: Deps for container builds
    gpgcheck: false
    enabled: true
  - name: rhoso-18.0-rhel-9-nightly-compose
    baseurl: 'http://download.devel.redhat.com/rhel-9/nightly/RHOSO/RHOSO-18.0-trunk/latest-RHOSO_TRUNK-18-RHEL-9/compose/OpenStack/x86_64/os/'
    description: nightly compose repo to install rhoso-release package
    gpgcheck: false
    enabled: true
    includepkgs: 'rhoso-release-18*'

cifmw_install_ca_url: "https://certs.corp.redhat.com/certs/Current-IT-Root-CAs.pem"

# dev-scripts
cifmw_devscripts_user: "{{ ansible_user | default(ansible_user_id) }}"
cifmw_devscripts_remove_libvirt_net_default: true
cifmw_devscripts_enable_ocp_nodes_host_routing: true

# fips_mode flag to enabled FIPS during OCP deploy
cifmw_devscripts_config_overrides_patch_openshift_fips_mode:
  fips_mode: "{{ cifmw_fips_enabled | default(false) | bool }}"
  fips_validate: "{{ cifmw_fips_enabled | default(false) | bool }}"

# type and size of ssh keys injected into the OCP workers and compute nodes
cifmw_ssh_keytype: ecdsa
cifmw_ssh_keysize: 521

# Avoid gathering logs in the deployment run
zuul_log_collection: true
cifmw_edpm_deploy_extra_vars:
  SSH_KEY_FILE: "{{ ansible_user_dir }}/.ssh/id_cifw"

# Virtual BMC settings
cifmw_virtualbmc_daemon_port: 50881

# Update_containers vars to use RHEL podified containers
# Set: cifmw_update_containers: true to use
cifmw_update_containers_registry: images.paas.redhat.com
cifmw_update_containers_org: podified-rhos18-rhel9
cifmw_update_containers_openstack: true
cifmw_update_containers_tag: current-podified
cifmw_update_containers_edpm_image_url: "{{ cifmw_update_containers_registry }}/{{ cifmw_update_containers_org }}/edpm-hardened-uefi:{{ cifmw_update_containers_tag }}"

# Test operator
cifmw_test_operator_tempest_concurrency: 4
cifmw_test_operator_timeout: 36000
cifmw_test_operator_tempest_registry: "{{ cifmw_update_containers_registry }}"
cifmw_test_operator_tempest_namespace: "{{ cifmw_update_containers_org }}"
cifmw_test_operator_tempest_container: openstack-tempest-all
cifmw_test_operator_tempest_image_tag: "{{ cifmw_update_containers_tag }}"
cifmw_test_operator_tobiko_registry: "{{ cifmw_update_containers_registry }}"
cifmw_test_operator_tobiko_namespace: "{{ cifmw_update_containers_org }}"
cifmw_test_operator_tobiko_container: openstack-tobiko
cifmw_test_operator_tobiko_image_tag: "{{ cifmw_update_containers_tag }}"

# ntp
# controller-0
cifmw_ntp_server: clock.redhat.com

cifmw_architecture_user_kustomize_99_registry_login:
  edpm-pre-ceph-nodeset:
    edpm-nodeset-values:
      data:
        nodeset:
          ansible:
            ansibleVars:
              edpm_container_registry_logins:
                registry.redhat.io:
                  jslagle@redhat.com: "{{ registry_redhat_io_password }}"
